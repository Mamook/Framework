(function(d,s,A){function W(b){var d=P(),j="";if(d&&d[b]){delete d[b];for(var k in d)j+=k+(!0===d[k]?"":"="+encodeURIComponent(d[k]));A.location.hash=j;return!0}return!1}function B(b,d){var b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),j=RegExp("[\\?&]"+b+"=([^&#]*)").exec(d);return null===j?"":j[1]}function X(b){var d=P(),j={};return d&&d[b]?(j[b]=!0===d[b]?0:d[b],j):!1}function P(){for(var b=A.location.hash,b=b?b.replace(/^#/,"").split("&"):[],k={},j=0;j<b.length;j++){var s=b[j].split("=");k[s[0]]=
decodeURIComponent(s[1])||!0}d.isEmptyObject(k)&&(k=!1);return k}function Y(){return A.pageYOffset?{scrollTop:A.pageYOffset,scrollLeft:A.pageXOffset}:s.documentElement&&s.documentElement.scrollTop?{scrollTop:s.documentElement.scrollTop,scrollLeft:s.documentElement.scrollLeft}:s.body?{scrollTop:s.body.scrollTop,scrollLeft:s.body.scrollLeft}:{scrollTop:0,scrollLeft:0}}var Z=d.fwPopup={initialized:!1,version:"2.0.2"},k=d(A),J,C=k.height(),n=k.width();d.fn.fwPopup=function(b){var I,j;function la(a){a=
n/2+Q.scrollLeft-a/2;0>a&&(a=0);return a}function ma(a){a=C/2+Q.scrollTop-a/2;0>a&&(a=0);return a}function E(){h&&(Q=Y(),C=k.height(),n=k.width(),h.css({top:ma(h.outerHeight(!1)),left:la(h.outerWidth(!1))}))}function F(a){if(!b.modal||!0===a)a=b.animationSpeed,J.is(":animated")||(h.stop().find("object,embed").css({visibility:"hidden"}),h.fadeOut(a,function(){d(this).remove()}),J.fadeOut(a,function(){b.hideFlash&&d("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css({visibility:"visible"});
d(this).remove();k.off("scroll.fwPopup");W(D);Z.isInitialized=!1;b.callback()}))}function $(a){a=d(a.target);a.hasClass("button-expand")?a.removeClass("button-expand").addClass("button-contract").attr({"aria-label":"Contract the image",title:"Contract the image"}):a.removeClass("button-contract").addClass("button-expand").attr({"aria-label":"Expand the image",title:"Expand the image"});aa(ba);return!1}function p(a,d){ca(a,d);var e=!1,c=a,f=d;if((t>n||w>C)&&b.allowResize&&!K){for(var e=!0,g=!1;!g;)t>
n?(f=n-200,c=a/d*f):w>C?(c=C-200,f=d/a*c):g=!0,w=c,t=f;(t>n||w>C)&&p(t,w);ca(c,f)}return{width:Math.floor(f),height:Math.floor(c),containerHeight:Math.floor(w),containerWidth:Math.floor(t)+2*b.horizontalPadding,contentHeight:Math.floor(da),contentWidth:Math.floor(ea),resized:e}}function ca(a,c){var a=parseFloat(a),c=parseFloat(c),e=h.clone().appendTo(d("body")).css({position:"absolute",top:-1E4}).addClass("testDiv").show(),g=e.find(".fwpContent");e.find(".fwpDetails").addClass(b.theme);e.find("#fwpFullRes").css({height:a,
width:c});da=g.outerHeight(!1);ea=c;w=e.outerHeight(!1);t=c;e.remove()}function na(a){return a.match(/youtube\.com\/watch/i)||a.match(/youtu\.be/i)?"youtube":a.match(/vimeo\.com/i)?"vimeo":a.match(/\b.mov\b/i)?"quicktime":a.match(/\b.swf\b/i)?"flash":a.match(/\b.(mp3|ogg)\b/i)?(I="mpeg",j="mp3",a.match(/\b.ogg\b/i)&&(I="ogg",j="vorbis"),"audio"):a.match(/\b.(mp4)\b/i)?(I="mp4",j=void 0,"video"):a.match(/\biframe=true\b/i)?"iframe":a.match(/\bajax=true\b/i)?"ajax":a.match(/\bcustom=true\b/i)?"custom":
"#"==a.substr(0,1)?"inline":"image"}function aa(a){a=a||function(){};R.addClass("fwpLoading");q.find("object,embed").css({visibility:"hidden"});q.css({opacity:0});a()}function fa(a){if(b.keyboardAccessible)d(s).off("keydown.fwPopup").on("keydown.fwPopup",function(a){if(h&&h.is(":visible"))switch(a.keyCode){case 27:b.modal||F()}});L=X(D);!a&&L?(M=L[D]||0,a=d(S[M])):(a=d(a),M=S.index(a));g=a.attr("href");N=(u=a.data())&&u.desc?u.desc:a.attr("title");O=u&&u.title?u.title:a.find("img").attr("alt");if(b.deepLinking){var a=
D,c=M;W(a);var n=P(),t="";n||(n={});n[a]=c;for(var f in n)t+=f+(!0===n[f]?"":"="+encodeURIComponent(n[f]));A.location.hash=t}Z.isInitialized=!0;var i=b.markup,x="",r=parseFloat(B("width",g))?B("width",g):b.defaultWidth,v=parseFloat(B("height",g))?B("height",g):b.defaultHeight,m,w;i.socialTools=i.socialTools?i.socialTools.replace(RegExp(ga,"g"),A.location).replace(RegExp(T,"g"),O):"";i.general=i.general.replace(ha,i.socialTools);d("body").append(i.general);h=d(".fwpHolder").addClass(b.theme);R=h.find(".fwpContent");
f=h.find(".fwpDescription");q=h.find("#fwpFullRes");a=h.find(".fwpTitle");J=d(".overlay.fwp").css({opacity:0}).on("click",F);h.find(".button-close").off("click",F).on("click",F);if(b.allowExpand)h.find(".button-expand").off("click",$).on("click",$);b.hideFlash&&d("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css({visibility:"hidden"});b.showTitle&&O&&a.html(decodeURI(O)).removeClass("no_content");i.socialTools&&h.find(".fwpSocial").removeClass("no_content");f.hide();N&&f.show().html(decodeURI(N));
K=!1;v.toString().indexOf("%")+1&&(v=parseFloat(k.height()*parseFloat(v)/100-150),K=!0);r.toString().indexOf("%")+1&&(r=parseFloat(k.width()*parseFloat(r)/100-150),K=!0);switch(na(g)){case "ajax":w=!0;e=p(v,r);d.get(g,function(a){x=i.inline.replace(U,a);q[0].innerHTML=x;G()});break;case "audio":m=new Image;m.onload=function(){var a=new Audio,b=u&&u.image?'<img src="'+u.image+'" alt="Cover for '+N+'"/>':"";q[0].innerHTML=i.audio.replace(ia,j).replace(ja,b).replace(ka,I).replace(RegExp(l,"g"),g);q.find("audio").width(m.width);
a.setAttribute("src",g);a.load();e=p(m.height+30,m.width);G()};m.src=u.image;break;case "custom":e=p(v,r);x=i.custom;break;case "flash":e=p(v,r);f=g.substring(g.indexOf("flashvars")+10,g.length);a=g.substring(0,g.indexOf("?"));x=i.flash.replace(RegExp(y,"g"),e.width).replace(RegExp(z,"g"),e.height).replace(RegExp(H,"g"),b.wmode).replace(RegExp(l,"g"),a+(f?"?"+f:""));break;case "iframe":e=p(v,r);f=g.substr(0,g.indexOf("iframe")-1);x=i.iframe.replace(RegExp(y,"g"),e.width).replace(RegExp(z,"g"),e.height).replace(RegExp(l,
"g"),f);break;case "image":m=new Image;q[0].innerHTML=i.image.replace(RegExp(l,"g"),g);m.onload=function(){e=p(m.height,m.width);G()};m.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist.");F(!0)};m.src=g;break;case "inline":q.addClass("fwpInline");f=d("div").addClass("fwpFullRes fwpInline").css({position:"absolute",top:-1E4,width:b.defaultWidth,"max-height":C}).appendTo(d("body"));f[0].innerHTML=d(g).html();e=p(f.outerWidth(!1),f.outerHeight(!1));f.remove();
x=i.inline.replace(U,d(g).html());break;case "quicktime":e=p(v,r);e.height+=15;e.contentHeight+=15;e.containerHeight+=15;x=i.quicktime.replace(RegExp(y,"g"),e.width).replace(RegExp(z,"g"),e.height).replace(RegExp(H,"g"),b.wmode).replace(RegExp(l,"g"),g).replace(RegExp(V,"g"),b.autoPlay);break;case "video":m=new Image;m.onload=function(){var a=g.substring(0,g.lastIndexOf("."));q[0].innerHTML=i.video.replace(RegExp(l,"g"),a);q.find("video").width(r);e=p(v,r);G()};m.src=u.image;break;case "vimeo":e=
p(v,r);a=g.match(/http(s?):\/\/(www\.)?vimeo.com\/(\d+)/)[3];f=e.width+"/embed/?moog_width="+e.width;a="//player.vimeo.com/video/"+a+"?title=0&byline=0&portrait=0";b.autoPlay&&(a+="&autoplay=1;");x=i.iframe.replace(RegExp(y,"g"),f).replace(RegExp(z,"g"),e.height).replace(RegExp(l,"g"),a);break;case "youtube":e=p(v,r),f=B("v",g),f||(f=g.split("youtu.be/"),f=f[1],0<f.indexOf("?")&&(f=f.substr(0,f.indexOf("?"))),0<f.indexOf("&")&&(f=f.substr(0,f.indexOf("&")))),a="//www.youtube.com/embed/"+f,a=B("rel",
g)?a+("?rel="+B("rel",g)):a+"?rel=1",b.autoPlay&&(a+="&autoplay=1"),x=i.iframe.replace(RegExp(y,"g"),e.width).replace(RegExp(z,"g"),e.height).replace(RegExp(H,"g"),b.wmode).replace(RegExp(l,"g"),a)}aa();!m&&!w&&(q[0].innerHTML=x,G())}function ba(){var a=b.animationSpeed;if(b.allowResize)k.off("scroll.fwPopup",E).on("scroll.fwPopup",function(){E()});k.off("resize.fwPopup",E).on("resize.fwPopup",E);J.show().fadeTo(a,b.opacity,function(){q.animate({opacity:1},a/2)});h.fadeIn(a,E);h.css({display:"block",
opacity:0}).animate({opacity:1,top:top,left:0>n/2-e.containerWidth/2?0:n/2-e.containerWidth/2},a,function(){})}function G(){R.removeClass("fwpLoading");h.find(".fwpFullResImage").height(e.height).width(e.width);b.allowExpand&&(e.resized?d("a.button-expand,a.button-contract").show():d("a.button-expand").hide());ba();b.ajaxCallback()}var N="",u,M,h,q,R,da,ea,w,t,e,L,D,S=this,g,K=!1,Q=Y(),O="",V="{%autoplay}",ia="{%codec}",U="{%content}",z="{%height}",ja="{%image}",ga="{%location_href}",ka="{%type}",
l="{%path}",ha="{%social_tools}",T="{%title}",y="{%width}",H="{%wmode}",oa=""+ja+'<audio controls autoplay class="audioPlayback"><source src="'+l+'" type="audio/'+ka+'" codec="'+ia+'"/></audio>',pa='<video id="videoPlayer" controls autoplay class="videoPlayback"><source src="'+l+'.webm" type="video/wemb"><source src="'+l+'.mp4" type="video/mp4"></video>',qa='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+y+'" height="'+z+'"><param name="wmode" value="'+H+'" /><param name="allowfullscreen" value="true"/><param name="allowscriptaccess" value="always" /><param name="movie" value="'+
l+'" /><embed src="'+l+'" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="'+y+'" height="'+z+'" wmode="'+H+'"></embed></object>',c;c=[];c.push('<div class="fwpHolder">');c.push('<div class="fwpTitle no_content"></div>');c.push('<div class="fwpTop">');c.push('<div class="fwpLeft"></div>');c.push('<div class="fwpMiddle"></div>');c.push('<div class="fwpRight"></div>');c.push("</div>");c.push('<div class="fwpContainer">');c.push('<div class="fwpLeft">');c.push("</div>");
c.push('<div class="fwpContent fwpMiddle fwpLoading">');c.push('<a tabindex="0" class="button-expand" title="Expand the image" aria-label="Expand the image">Expand</a>');c.push('<div id="fwpFullRes" class="fwpFullRes"></div>');c.push('<div class="fwpDetails">');c.push('<p class="fwpDescription no_content"></p>');c.push('<div class="fwpSocial no_content">'+ha+"</div>");c.push('<a tabindex="0" class="button-close" title="Close the modal" aria-label="Close the modal">Close</a>');c.push("</div>");c.push("</div>");
c.push('<div class="fwpRight">');c.push("</div>");c.push("</div>");c.push('<div class="fwpBottom">');c.push('<div class="fwpLeft"></div>');c.push('<div class="fwpMiddle"></div>');c.push('<div class="fwpRight"></div>');c.push("</div>");c.push("</div>");c.push('<div class="overlay fwp"></div>');c=c.join("");b=d.extend(!0,{ajaxCallback:function(){},allowExpand:!0,allowResize:!0,animationSpeed:500,autoPlay:!0,callback:function(){},defaultHeight:344,defaultWidth:500,deepLinking:!0,hideFlash:!1,hook:"data-fwPopup",
hookWord:"fwPopup",horizontalPadding:20,ie6Fallback:!0,keyboardAccessible:!0,markup:{general:c,audio:oa,custom:"",flash:qa,iframe:'<iframe src ="'+l+'" width="'+y+'" height="'+z+'" frameborder="no"></iframe>',image:'<img class="fwpFullResImage" src="'+l+'"/>',inline:'<div class="fwpInline">'+U+"</div>",quicktime:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="//www.apple.com/qtactivex/qtplugin.cab" height="'+z+'" width="'+y+'"><param name="src" value="'+l+'"><param name="autoplay" value="'+
V+'"><param name="type" value="video/quicktime"><embed src="'+l+'" height="'+z+'" width="'+y+'" autoplay="'+V+'" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',socialTools:'<div class="twitter"><a href="http://twitter.com/share" class="twitter-share-button" data-count="none" data-text="'+T+'">Tweet</a><script src="//platform.twitter.com/widgets.js"><\/script></div><div class="facebook"><div class="fb-share-button" data-href="'+ga+'" data-layout="button" data-caption="'+
T+'"></div><script>(function($){$.ajaxSetup({cache:true});$.getScript("//connect.facebook.net/en_US/sdk.js",function(){FB.init({xfbml:1,version:"v2.5"})});})(jQuery)<\/script></div>',video:pa},modal:!1,opacity:1,showTitle:!0,theme:"default",wmode:"opaque"},b);D=b.hookWord;(L=X(D))&&fa();return S.off("click.fwPopup").on("click.fwPopup",function(a){a.preventDefault();fa(this)})}})(jQuery,document,window);